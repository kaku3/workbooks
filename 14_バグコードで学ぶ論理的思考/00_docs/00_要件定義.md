# バグコードで学ぶ論理的思考

## 1. コンセプト
**「メンターがいなくても、自ら考え、実践的なトラブルシューティング能力を養う自習室」**

「[異次元の教育効率なバグコード教育メソッド](https://qiita.com/kaku3/items/b1c94328f273c750286b)」をシステム化・自動化する。メンターの負担を軽減し、かつメンターのレベルに依存せずに質の高い「実践的なトラブルシューティング体験」を提供する。

## 2. ターゲット
*   **ユーザー（若手）**: 夕会の時間などに、自主的に取り組む。
*   **メンター**: 課題の作成・採点の手間をかけたくない。学習者の進捗と「試行錯誤のプロセス（理解度）」を確認したい。

## 3. カリキュラム構成案（難易度別・観点別）

### レベル1: 初級（構文・単純ミス系）
*   **観点**: エラーメッセージを読む力、基本的な構文理解、デバッグの第一歩。
*   **課題例**:
    *   構文エラー（`SyntaxError: unexpected token`）。
    *   変数名のタイポ（`useId` vs `userId`）。
    *   比較演算子のミス（`=` と `==` と `===`）。
    *   型変換の誤解（`"5" + 3` の結果）。
    *   null/undefinedチェック漏れ。
    *   off-by-one エラー（配列の範囲外アクセス）。
    *   無限ループ（条件式のミス）。
*   **ゴール**: エラーメッセージを読み、基本的な文法ミスを自力で修正できること。

### レベル2: 中級（ロジック・スコープ系）
*   **観点**: スコープ理解、オブジェクト操作、非同期処理、実行コンテキスト。
*   **課題例**:
    *   スコープの問題（`var` / `let` / `const`）。
    *   `this` のバインディングミス。
    *   オブジェクトの参照と値のコピー。
    *   コールバック関数の誤用。
    *   クロージャの理解不足。
    *   配列メソッドの誤用（`map` / `filter` / `forEach`）。
    *   連鎖的なエラー（早期returnの欠如）。
    *   複数の関数にまたがるバグ。
*   **ゴール**: console.logやデバッガを活用し、変数の状態や実行フローを追跡できること。

### レベル3: 上級（設計・保守性・論理的思考系）
*   **観点**: 保守性、設計思考、論理的な問題解決、リファクタリング能力。
*   **課題例**:
    *   過度に複雑なロジック（ネストが深い、早期return未使用）。
    *   誤った問題診断（症状と原因の取り違え）。
    *   不要な変換チェーン（無駄な処理の積み重ね）。
    *   フラグ管理の混乱（導出可能な値をフラグ化）。
    *   コピペによる変数名ミス（関数名は変えたのに中身は変えていない）。
    *   誤解を招く変数名（`isValid` が実は `count` を返す）。
    *   再帰処理のバグ（終了条件の誤り）。
    *   イベント処理の誤解（非同期タイミング）。
*   **ゴール**: コードの「におい」を嗅ぎ分け、根本原因を特定し、保守性の高い設計に改善できること。

---

## 4. 機能要件（改定版）

### A. 課題データ管理（AIコスト削減）
*   **事前生成（作り置き）**:
    *   リアルタイム生成ではなく、事前にAI（ChatGPT等）を使って「バグコード」「解説」「ヒント」「テストケース」のセットを作成し、JSONファイルとして保存する。
    *   `problems.json` を静的ホスティングするだけで運用可能にする。
    *   **メリット**: ランニングコスト（API利用料）がゼロ。GitHub Pagesで完全無料で運用可能。

### B. 実行・判定環境（ブラウザ完結）
*   **クライアントサイド実行**:
    *   ユーザーが修正したコードをブラウザ上で実行し、判定ロジック（テストケース）もブラウザ上で動かす。
    *   技術スタック案: React + Vite (SPA) + `Function` コンストラクタ / Web Worker（サンドボックス化）。
    *   まずはJavaScript/TypeScriptのロジック問題から着手し、環境構築不要で動くようにする。

### C. 窓口業務シミュレーション（メール対応）
*   **選択肢式シナリオ**:
    *   対話AIをリアルタイムで回すと課金されるため、これも「シナリオツリー」としてJSON化しておく。
    *   選択肢によって分岐する、昔ながらの「アドベンチャーゲーム」形式で実装。

### D. 評価とプロセスの可視化
*   **ローカルストレージ活用**:
    *   進捗や「課題解決にかかった時間」は一旦ブラウザの `localStorage` に保存。
    *   必要に応じてJSONエクスポートし、メンターに提出させる（サーバーレス運用）。
    *   **「学習ログ」**: 単なる正誤だけでなく、どのくらい試行錯誤したか、ヒントを活用したか等のプロセスを記録し、粘り強さを評価指標とする。

## 5. UI/UXイメージ
*   **Playgroundスタイル**: 左側に問題とエディタ、右側に実行結果（コンソール/テスト結果）が表示される画面。
*   **静的サイト (Static Site)**: GitHub Pagesで配信。URL共有だけで誰でもすぐに始められる手軽さ。
