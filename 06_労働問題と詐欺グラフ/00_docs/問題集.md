# 労働問題と詐欺グラフ

@import "./style.less"

<!-- @import "[TOC]" {cmd="toc" depthFrom=2 depthTo=6 orderedList=true} -->

<!-- code_chunk_output -->

1. [課題](#-課題-)
2. [課題のポイント](#-課題のポイント-)
3. [Python 環境について(2023)](#-python-環境について2023-)
4. [VS Code の Python Extension](#-vs-code-の-python-extension-)
5. [仮想環境の作成](#-仮想環境の作成-)
6. [実行](#-実行-)

<!-- /code_chunk_output -->

## 課題

年金問題、正規・非正規雇用問題などなどわたし達の身の回りには様々な問題が存在している。
この問題をツイッターでよく見る時系列での推移をアニメーション表示するバーチャートレースを用いてQiitaの記事で伝える。

（参考）
[Qiita : Pythonで考える少子高齢化と詐欺グラフ](https://qiita.com/kaku3/items/6133dfb01c7187dce45c)


## 課題のポイント

本課題はプログラムは数行の内容のためプログラムとしてはあまり見るべき点はない。
初学者には、Pythonを動作させる環境を作るモチベーションとして利用頂ければ幸い。
Python環境用意済みの方には、データをどこからどの様に収集する、どの様に見せるかなどに取り組んでもらいたい。


## Python 環境について(2023)

本問題集の解答例では Python で作成したサンプルを用意した。
プログラムとしては、関数を２つ呼び出した程度であるのであまりここで説明することはない。

一方で、Windows 上で Python 環境を作成するのに少々苦労したのでそちらの話を書いておきたい。
結論から言っておくと、VS Code で仮想環境(Venv)を作成するのが一番簡単そうだった。

Python のバージョンは、本問題作成時点では 3.11.1 だった。
一方、バーチャートレースのモジュールは 3.8 ではないと動作しないようだった。

そのため、環境には複数のバージョンの Python を保持する必要があるが、複数 Python を別のフォルダにインストールするだけではそれぞれの Python を簡単に利用できるようにはならない。

以前ポピュラーだった poetry の利用を試みたが、なぜかインストールできない、インストールできたが文字コードの問題か何かでエラーになり動作しない、WSL2 上なら動作するかと思ったがインストールが無限に終わらない、ようやく終わったと思ったらやはり文字コードの問題が発生し動かすことができない、という問題にぶち当たった。

途方に暮れつつダメ元で VS Code の Extension を入れたら、やりたいことが全部できた。
VS Code は最高である。

最近の言語は進化が速いので、しばらくぶりに使う時などには最新情報をググってから利用するのをオススメしておく。


## VS Code の Python Extension

- [VS Code Extension : Python](https://marketplace.visualstudio.com/items?itemName=ms-python.python)

VS Code に Python の拡張機能をインストールすると、コマンドパレットに下図の様なコマンドが追加される。

@import "./images/00-pythonコマンドパレット.png"


## 仮想環境の作成

VS Code のコマンドパレットより `Python: 環境の作成` を選択し、作成したい環境と、Python のバージョンを選択すれば、選択したバージョンでの仮想環境が作成される。

1. 環境の作成を選択

2. Venv を選択

@import "./images/01-00-環境の作成.png"

3. Python の Version を選択

@import "./images/01-01-環境の作成.png"

Venv 選択時は、作業フォルダに .venv/ フォルダが作成され、その中に仮想環境として必要なファイル一式がインストールされる。


## 実行

python ファイルをエディタで開いている状態で、`Python: ターミナルで Python ファイルを実行する` を選択するか、ターミナルで、`py {pythonファイル名.py}` と入力して実行する。

（注意）
VS Code のプロジェクトルートに .venv フォルダがある状態ではないと仮想環境上で動作しない。
本課題集のサンプルコードを実行する場合には、10_src/ がプロジェクトルートとなるように VS Code を開く必要がある。